{% set subfields %}
 <div class="fieldgroup fieldgroup--inline fieldgroup--date" data-qa="widget-date">
  <div class="fieldgroup__fields">
    {% set day_field = form.fields[answer['id']]['day'] %}
    {% if day_field %}
    <div class="field field--input">
      <label class="label u-fs-r" for="{{answer['id']}}-day" id="label-{{answer['id']}}-day" data-qa="label-day">{{ _("Day") }}</label>
      {% set input = {
        'id': day_field.id,
        'name': day_field.name,
        'classes': 'input--w-2',
        'type': 'number',
        'data': day_field._value()
      } %}
      {% include 'partials/forms/input.html' %}
    </div>
    {% endif %}
    {% set month_field = form.fields[answer['id']]['month'] %}
    {% if month_field %}
    <div class="field field--select">
      <label class="label u-fs-r" for="{{answer['id']}}-month" id="label-{{answer['id']}}-month" data-qa="label-month">{{ _("Month") }}</label>
      {% set select = {
          'id': month_field.id,
          'name': month_field.id,
          'classes': 'input--w-auto',
          'choices': month_field.choices,
          'data': month_field.data,
          'flags': {
            'required': answer.mandatory
          }
      } %}
      {% include 'partials/forms/select.html' %}
    </div>
    {% endif %}
    {% set year_field = form.fields[answer['id']]['year'] %}
    {% if year_field %}
    <div class="field field--input">
      <label class="label u-fs-r" for="{{answer['id']}}-year" id="label-{{answer['id']}}-year" data-qa="label-year">{{ _("Year") }}</label>
      {% set input = {
        'id': year_field.id,
        'name': year_field.id,
        'classes': 'input--w-4',
        'type': 'number',
        'data': year_field._value()
      } %}
      {% include 'partials/forms/input.html' %}
    </div>
    {% endif %}
  </div>
 </div>
{% endset %}

{% if answer.label %}
  <fieldset class="field">
    <legend class="field__legend u-fs-r u-vh">{{ question.title }}</legend>
    <div class="field__label u-fs-r--b">{{ answer.label }}:</div>
    {{subfields}}
  </fieldset>
{% else %}
  <div class="fieldgroup fieldgroup--date">
    {{subfields}}
  </div>
{% endif %}
