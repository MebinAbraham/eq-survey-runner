
{% from "macros/label/_macro.njk" import onsLabel %}
{% if params.type == "number" %}
    {% set type = "number" %}
    {% set pattern = "[0-9]*" %}
{% elif params.type %}
    {% set type = params.type %}
{% else %}
    {% set type = "text" %}
{% endif %}

{% if params.label -%}
    {{
        onsLabel({
            "for": params.id,
            "id": params.label.id,
            "text": params.label.text,
            "classes": params.label.classes,
            "description": params.label.description
        })
    }}
{%- endif %}

{% if params.prefix or params.suffix -%}
    {%- if params.prefix -%}
        {%- set prefixClass = " input-type--prefix" -%}
    {%- endif -%}
    <div class="input-type{{ prefixClass }}">
{%- endif %}
<input
    type="{{ type }}"
    id="{{ params.id }}"
    class="input input--text input-type__input {{ params.classes }}"
    {% if params.name %}name="{{ params.name }}"{% endif %}
    {% if params.value %}value="{{ params.value }}"{% endif %}
    {% for attribute, value in params.attributes %} {{ attribute }}="{{ value }}"{% endfor %}
/>
{% if params.prefix or params.suffix -%}
        <abbr class="input-type__type" title="{{ params.prefix.title }}{{ params.suffix.title }}">{{ params.prefix.text }}{{ params.suffix.text }}</abbr>
    </div>
{%- endif %}
